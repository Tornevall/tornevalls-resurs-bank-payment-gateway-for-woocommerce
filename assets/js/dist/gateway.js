(()=>{"use strict";var e={20:(e,t,r)=>{var o=r(609),n=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var o,c={},i=null,d=null;for(o in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,o)&&!l.hasOwnProperty(o)&&(c[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===c[o]&&(c[o]=t[o]);return{$$typeof:n,type:e,key:i,ref:d,props:c,_owner:a.current}}t.jsx=c,t.jsxs=c},848:(e,t,r)=>{e.exports=r(20)},609:e=>{e.exports=window.React}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o=r(609),n=r.n(o);const s=window.wp.data,a=window.wc.wcBlocksData,l=window.wc.wcBlocksRegistry,c=window.wc.wcSettings;var i=r(848);const d=(0,c.getSetting)("resursbank_data",{});"function"==typeof c.getSetting?"function"==typeof l.registerPaymentMethod?"function"==typeof s.select?d.payment_methods.forEach((e=>{const t={},r=()=>{const r=(0,s.select)(a.CART_STORE_KEY).getCartData(),o=(0,s.select)(a.CART_STORE_KEY).getCustomerData(),l=(e=>parseInt(e.totals.total_price,10)/Math.pow(10,e.totals.currency_minor_unit))(r),c=o?.billingAddress?.country||"",d=o?.shippingAddress?.country||"",[m,u]=n().useState(t[e.name]||e.costlist);return n().useEffect((()=>{const r=document.querySelector("iframe.rb-rm-iframe");r&&((e,t)=>{let r=e.getAttribute("src");if(r){const o=r.lastIndexOf("=");-1!==o&&(r=r.substring(0,o+1)+t,e.setAttribute("src",r))}})(r,l),fetch(`${e.costlist_url}&method=${e.name}&amount=${l}`).then((e=>e.json())).then((r=>{r.html&&r.html!==m&&(t[e.name]=r.html,u(r.html))})).catch((e=>{console.error("Failed to fetch costlist:",e)}))}),[l]),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:e.description}}),(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:m}}),(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:e.readmore}}),("SE"===c||"SE"===d)&&(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:e.price_signage_warning}})]})},o=t=>{const{PaymentMethodLabel:r}=t.components;return(0,i.jsxs)("div",{className:"rb-payment-method-title",children:[(0,i.jsx)(r,{text:e.title}),(0,i.jsx)("div",{className:`rb-payment-method-logo rb-logo-type-${e.logo_type}`,dangerouslySetInnerHTML:{__html:e.logo}})]})};(0,l.registerPaymentMethod)({name:e.name,paymentMethodId:e.name,label:(0,i.jsx)(o,{}),content:(0,i.jsx)(r,{}),edit:(0,i.jsx)(r,{}),canMakePayment:t=>{const r=parseInt(t.cartTotals.total_price,10)/Math.pow(10,t.cartTotals.currency_minor_unit);return Resursbank_PaymentMethod.isAvailable(e.name,r,""===document.getElementById("billing-company")?.value?"NATURAL":"LEGAL",t.billingAddress.country)},ariaLabel:e.title,supports:{blockBasedCheckout:"resursbank"!==e.name,features:["products","shipping","coupons"]}})})):console.error("WooCommerce: select is not available."):console.error("WooCommerce Blocks: registerPaymentMethod is not available."):console.error("WooCommerce: getSetting is not available.")})();